load("@rules_cc//cc:defs.bzl", "cc_library")

cc_library(
    name = "rinvid_core",
    srcs = [
        "animation.cpp",
        "application.cpp",
        "camera.cpp",
        "circle_shape.cpp",
        "light.cpp",
        "light_manager.cpp",
        "quad_shape.cpp",
        "rectangle_shape.cpp",
        "rinvid_gfx.cpp",
        "shader.cpp",
        "shape.cpp",
        "sprite.cpp",
        "texture.cpp",
        "transformable.cpp",
        "triangle_shape.cpp",
    ],
    hdrs = [
        "include/animation.h",
        "include/application.h",
        "include/camera.h",
        "include/circle_shape.h",
        "include/drawable.h",
        "include/drawable_animated.h",
        "include/fixed_polygon_shape.h",
        "include/light.h",
        "include/light_manager.h",
        "include/quad_shape.h",
        "include/rectangle_shape.h",
        "include/rinvid_gfx.h",
        "include/rinvid_gl.h",
        "include/screen.h",
        "include/shader.h",
        "include/shape.h",
        "include/sprite.h",
        "include/texture.h",
        "include/transformable.h",
        "include/triangle_shape.h",
    ],
    copts = ["-Werror -Wall -Wextra -pedantic"],
    data = [
        ":shaders/default_shape.frag",
        ":shaders/default_shape.vert",
        ":shaders/default_texture.frag",
        ":shaders/default_texture.vert",
    ],
    linkopts = select({
        "@bazel_tools//src/conditions:windows": ["-lsfml-window -lsfml-system -lopengl32 -lwinmm -lgdi32"],
        "//conditions:default": ["-lsfml-window -lsfml-system -lGL"],
    }),
    visibility = [
        "//examples:__subpackages__",
        "//gui:__subpackages__",
        "//system:__subpackages__",
    ],
    deps = ["//util"],
)
